Phase : Phase 3 — 데이터 아키텍처 개선
Status : 진행 중 (Task 3-1 완료)
LastUpdate : 2026-02-08
Branch : refactor/phase-3-data
RecentWork : Task 3-1 Firestore 컬렉션 정규화 완료
  - scripts/migrate-pages.js 생성 (app/data → pages 컬렉션 마이그레이션)
  - scripts/verify-migration.js 생성 (마이그레이션 검증)
  - src/data/firestore.js에 호환 레이어 추가 (USE_NEW_STRUCTURE 플래그)
  - firestore.rules에 pages, versions, comments, settings, templates 규칙 추가
  - Vite 빌드 정상 확인
MainWork :
  - [x] Task 3-1: Firestore 컬렉션 정규화 (마이그레이션 스크립트 + 호환 레이어)
  - [ ] Task 3-2: 에러 처리 체계화
  - [ ] Task 3-3: emptyTrash 일괄 처리 (batch write)
ResolvedWork :
  - Task 3-1: 마이그레이션 스크립트(migrate-pages.js), 검증 스크립트(verify-migration.js), 호환 레이어(USE_NEW_STRUCTURE), Firestore rules 업데이트
MainIssues :
  - Firestore 호출에 에러 처리 없음
  - emptyTrash 순차 삭제 (비효율)
ResolvedIssues :
  - 단일 Firestore 문서(app/data)에 모든 데이터 저장 (1MB 한계 우려) → pages 컬렉션 정규화로 해결 준비 완료
RelatedPhases : Phase 1 (완료), Phase 2 (완료), 전체 계획 docs/plans/2026-02-08-full-refactor.md 참고
